{
    "meta": {
      "layouts": {
        "presentation": "view",
        "react-grid-layout": {
          "props": {
            "cols": 12,
            "margin": [
              10,
              20
            ],
            "rowHeight": 100,
            "containerPadding": [
              5,
              5
            ]
          },
          "layout": [
            {
              "h": 5,
              "i": "view",
              "w": 5,
              "x": 5,
              "y": 0,
              "moved": false,
              "static": false
            },
            {
              "h": 2,
              "i": "device-io",
              "w": 5,
              "x": 0,
              "y": 0,
              "moved": false,
              "static": false
            }
          ]
        }
      },
      "description": "Get basic example of 3D rotation in babylon.js using phone orientation\n\nOne direction working!\n"
    },
    "version": "0.3",
    "metaframes": {
      "device-io": {
        "url": "https://superslides-router.glitch.me/superslides-output-visualization"
      },
      "view": {
        "url": "https://js.mtfm.io/?v=1&c=eyJtb2R1bGVzIjpbImh0dHBzOi8vY2RuLmJhYnlsb25qcy5jb20vYmFieWxvbi5qcyIsImh0dHBzOi8vY2RuLmJhYnlsb25qcy5jb20vbG9hZGVycy9iYWJ5bG9uanMubG9hZGVycy5taW4uanMiLCJodHRwczovL2NvZGUuanF1ZXJ5LmNvbS9wZXAvMC40LjMvcGVwLmpzIl19&mfk=05a94esw70#?js=Y29uc3QgZGlzcG9zZXJzID0gW107CmNvbnN0IHJvb3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicm9vdCIpOwp3aGlsZSAocm9vdC5maXJzdENoaWxkKSB7CiAgcm9vdC5yZW1vdmVDaGlsZChyb290Lmxhc3RDaGlsZCk7Cn0KCmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImNhbnZhcyIpOwpjYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCAibm9uZSIpIApjYW52YXMuaWQgPSAicmVuZGVyQ2FudmFzIjsKY2FudmFzLndpZHRoID0gNTAwCmNhbnZhcy5oZWlnaHQgPSA1MDAKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJvb3QiKS5hcHBlbmRDaGlsZChjYW52YXMpOwpjb25zdCBlbmdpbmUgPSBuZXcgQkFCWUxPTi5FbmdpbmUoY2FudmFzLCB0cnVlKTsgLy8gR2VuZXJhdGUgdGhlIEJBQllMT04gM0QgZW5naW5lCgpsZXQgY2FtZXJhOwoKdmFyIGNyZWF0ZVNjZW5lID0gZnVuY3Rpb24gKCkgewoKICAgIGNsYXNzIFRpbGVJZCB7CiAgICAgICAgY29uc3RydWN0b3IoeCwgeSwgem9vbSkgewogICAgICAgICAgICB0aGlzLnggPSB4OwogICAgICAgICAgICB0aGlzLnkgPSB5OwogICAgICAgICAgICB0aGlzLnpvb20gPSB6b29tOwogICAgICAgIH0KCiAgICAgICAgZ2V0IGNoaWxkcmVuKCkgewogICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgbmV3IFRpbGVJZCh0aGlzLnggKiAyLCB0aGlzLnkgKiAyLCB0aGlzLnpvb20gKyAxKSwKICAgICAgICAgICAgICAgIG5ldyBUaWxlSWQodGhpcy54ICogMiArIDEsIHRoaXMueSAqIDIsIHRoaXMuem9vbSArIDEpLAogICAgICAgICAgICAgICAgbmV3IFRpbGVJZCh0aGlzLnggKiAyLCB0aGlzLnkgKiAyICsgMSwgdGhpcy56b29tICsgMSksCiAgICAgICAgICAgICAgICBuZXcgVGlsZUlkKHRoaXMueCAqIDIgKyAxLCB0aGlzLnkgKiAyICsgMSwgdGhpcy56b29tICsgMSldOwogICAgICAgIH0KICAgIH0KCgl2YXIgc2NlbmUgPSBuZXcgQkFCWUxPTi5TY2VuZShlbmdpbmUpOwogICAgc2NlbmUuYW1iaWVudENvbG9yID0gbmV3IEJBQllMT04uQ29sb3IzKDEsIDEsIDEpOwogICAgc2NlbmUuY2xlYXJDb2xvciA9IEJBQllMT04uQ29sb3IzLkJsYWNrOwoKCW5ldyBCQUJZTE9OLkRpcmVjdGlvbmFsTGlnaHQoImhlbWkiLCBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDAsIDEpLCBzY2VuZSk7CgluZXcgQkFCWUxPTi5EaXJlY3Rpb25hbExpZ2h0KCJoZW1pIiwgbmV3IEJBQllMT04uVmVjdG9yMygwLCAtMSwgLTEpLCBzY2VuZSk7CgkKCWNhbWVyYSA9IG5ldyBCQUJZTE9OLkFyY1JvdGF0ZUNhbWVyYSgiY2FtZXJhMSIsIDAsIDAsIDAsIG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMCwgMCksIHNjZW5lKTsKICAJY2FtZXJhLnNldFBvc2l0aW9uKG5ldyBCQUJZTE9OLlZlY3RvcjMoMCwgMSwgLTIpKTsKICAgIC8vIGNhbWVyYS5sb3dlclJhZGl1c0xpbWl0ID0gMS4wNTsKICAgIC8vIGNhbWVyYS51cHBlclJhZGl1c0xpbWl0ID0gMzsKICAgIGNhbWVyYS5taW5aID0gLjAxOwogICAgY2FtZXJhLm1heFogPSA1OwogICAgY2FtZXJhLnJhZGl1cyA9IDQKCiAgICB2YXIgdXAgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKDAsIDEsIDApOwoKICAgIHZhciBnZXRUaWxlQW5nbGUgPSBmdW5jdGlvbih0aWxlWSwgdGlsZVopIHsKICAgICAgICB2YXIgdGlsZVIgPSAyICoqIHRpbGVaOwogICAgICAgIHZhciB0aWxlUyA9IDIgKiBNYXRoLlBJIC8gdGlsZVI7CiAgICAgICAgdmFyIHkgPSBNYXRoLlBJIC0gdGlsZVkgKiB0aWxlUzsKCiAgICAgICAgaWYgKDIgKiB0aWxlWSA8IHRpbGVSKSB7CiAgICAgICAgICAgIC8vIG5vcnRoZXJuIGhlbWlzcGhlcmUsIHVzZSBib3R0b20gZWRnZQogICAgICAgICAgICB5IC09IHRpbGVTOwogICAgICAgIH0KCiAgICAgICAgdmFyIGdkID0gMiAqIE1hdGguYXRhbihNYXRoLmV4cCh5KSkgLSBNYXRoLlBJIC8gMjsKICAgICAgICByZXR1cm4gdGlsZVMgKiBNYXRoLmNvcyhnZCk7CiAgICB9CgogICAgdmFyIHZlcnRleERhdGFNYXAgPSB7fTsKCiAgICB2YXIgZ2V0VmVydGV4RGF0YUZvclRpbGUgPSBmdW5jdGlvbih0aWxlWSwgdGlsZVopIHsKICAgICAgICAKICAgICAgICB2YXIga2V5ID0gdGlsZVkgKyAiOiIgKyB0aWxlWjsKCiAgICAgICAgaWYgKGtleSBpbiB2ZXJ0ZXhEYXRhTWFwKSB7CiAgICAgICAgICAgIHJldHVybiB2ZXJ0ZXhEYXRhTWFwW2tleV07CiAgICAgICAgfQoKICAgICAgICB2YXIgdGlsZVIgPSAyICoqIHRpbGVaOwogICAgICAgIHZhciB0aWxlUyA9IDIgKiBNYXRoLlBJIC8gdGlsZVI7CiAgICAgICAgdmFyIHR5ID0gTWF0aC5QSSAtIHRpbGVZICogdGlsZVM7CgogICAgICAgIC8vU2V0IGFycmF5cyBmb3IgcG9zaXRpb25zIGFuZCBpbmRpY2VzCiAgICAgICAgdmFyIHBvc2l0aW9ucyA9IFtdOwogICAgICAgIHZhciBpbmRpY2VzID0gW107CiAgICAgICAgdmFyIHV2cyA9IFtdOwogICAgICAgIHZhciBzdWJkaXZpc2lvbnMgPSA0OwoKICAgICAgICBmb3IgKHZhciBzeSA9IDA7IHN5IDw9IHN1YmRpdmlzaW9ucyArIC41OyBzeSsrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIHYgPSBzeSAvIHN1YmRpdmlzaW9uczsKICAgICAgICAgICAgdmFyIHkgPSB0eSAtIHRpbGVTICogKC4wMDMgKyB2ICogLjk5NCk7CiAgICAgICAgICAgIHZhciBnZCA9IDIgKiBNYXRoLmF0YW4oTWF0aC5leHAoeSkpIC0gTWF0aC5QSSAvIDI7CiAgICAgICAgICAgIHZhciBweiA9IE1hdGguc2luKGdkKTsKICAgICAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGdkKTsKCiAgICAgICAgICAgIGZvciAodmFyIHN4ID0gMDsgc3ggPD0gc3ViZGl2aXNpb25zICsgLjU7IHN4KyspCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhciB1ID0gc3ggLyBzdWJkaXZpc2lvbnM7CiAgICAgICAgICAgICAgICB2YXIgeCA9IHRpbGVTICogKC4wMDMgKyB1ICogLjk5NCk7CiAgICAgICAgICAgICAgICB2YXIgcHggPSBNYXRoLmNvcyh4KTsKICAgICAgICAgICAgICAgIHZhciBweSA9IE1hdGguc2luKHgpOwogICAgICAgICAgICAgICAgdmFyIHAgPSBuZXcgQkFCWUxPTi5WZWN0b3IzKHB4ICogY29zLCBweiwgcHkgKiBjb3MpOwogICAgICAgICAgICAgICAgcG9zaXRpb25zLnB1c2gocC54KTsKICAgICAgICAgICAgICAgIHBvc2l0aW9ucy5wdXNoKHAueSk7CiAgICAgICAgICAgICAgICBwb3NpdGlvbnMucHVzaChwLnopOwogICAgICAgICAgICAgICAgdXZzLnB1c2godSk7CiAgICAgICAgICAgICAgICB1dnMucHVzaCgxIC0gdik7CgogICAgICAgICAgICAgICAgaWYgKHN4IDwgc3ViZGl2aXNpb25zICYmIHN5IDwgc3ViZGl2aXNpb25zKSAKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICB2YXIgaWR4ID0gc3kgKiAoc3ViZGl2aXNpb25zICsgMSkgKyBzeDsKICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goaWR4KTsKICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goaWR4ICsgc3ViZGl2aXNpb25zICsgMSk7CiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGlkeCArIDEpOwogICAgICAgICAgICAgICAgICAgIGluZGljZXMucHVzaChpZHggKyAxKTsKICAgICAgICAgICAgICAgICAgICBpbmRpY2VzLnB1c2goaWR4ICsgc3ViZGl2aXNpb25zICsgMSk7CiAgICAgICAgICAgICAgICAgICAgaW5kaWNlcy5wdXNoKGlkeCArIHN1YmRpdmlzaW9ucyArIDIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIAogICAgICAgIC8vQ3JlYXRlIGEgdmVydGV4RGF0YSBvYmplY3QKICAgICAgICB2YXIgdmVydGV4RGF0YSA9IG5ldyBCQUJZTE9OLlZlcnRleERhdGEoKTsKCiAgICAgICAgLy9Bc3NpZ24gcG9zaXRpb25zIGFuZCBpbmRpY2VzIHRvIHZlcnRleERhdGEKICAgICAgICB2ZXJ0ZXhEYXRhLnBvc2l0aW9ucyA9IHBvc2l0aW9uczsKICAgICAgICB2ZXJ0ZXhEYXRhLmluZGljZXMgPSBpbmRpY2VzOwkKICAgICAgICB2ZXJ0ZXhEYXRhLnV2cyA9IHV2czsKICAgICAgICB2ZXJ0ZXhEYXRhLm5vcm1hbHMgPSBwb3NpdGlvbnM7CgogICAgICAgIHZlcnRleERhdGFNYXBba2V5XSA9IHZlcnRleERhdGE7CiAgICAgICAgcmV0dXJuIHZlcnRleERhdGE7CiAgICB9CgogICAgdmFyIGdldE1lc2hGb3JUaWxlID0gZnVuY3Rpb24odGlsZUlkKSB7CiAgICAgICAgCiAgICAgICAgdmFyIHRpbGVSID0gMiAqKiB0aWxlSWQuem9vbTsKICAgICAgICB2YXIgdGlsZVMgPSAyICogTWF0aC5QSSAvIHRpbGVSOwogICAgICAgIHZhciB0eCA9IHRpbGVJZC54ICogdGlsZVMgLSBNYXRoLlBJOwogICAgICAgIHZhciB0eSA9IE1hdGguUEkgLSB0aWxlSWQueSAqIHRpbGVTOwoKICAgICAgICAvL0NyZWF0ZSBhIGN1c3RvbSBtZXNoICAKICAgICAgICB2YXIgbWVzaCA9IG5ldyBCQUJZTE9OLk1lc2goInRpbGUgIiArIHRpbGVJZCwgc2NlbmUpOwogICAgICAgIG1lc2guaXNWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgbWVzaC50aWxlSWQgPSB0aWxlSWQ7CiAgICAgICAgbWVzaC5yb3RhdGUodXAsIC0yICogTWF0aC5QSSAqIHRpbGVJZC54IC8gdGlsZVIpOwogICAgICAgIAogICAgICAgIC8vQXBwbHkgdmVydGV4RGF0YSB0byBjdXN0b20gbWVzaAogICAgICAgIHZhciB2ZXJ0ZXhEYXRhID0gZ2V0VmVydGV4RGF0YUZvclRpbGUodGlsZUlkLnksIHRpbGVJZC56b29tKTsKICAgICAgICB2ZXJ0ZXhEYXRhLmFwcGx5VG9NZXNoKG1lc2gpOwoKICAgICAgICAvLyBDcmVhdGUgbWF0ZXJpYWwgZnJvbSB0aWxlIGltYWdlcnkKICAgICAgICB2YXIgbWF0ID0gbmV3IEJBQllMT04uU3RhbmRhcmRNYXRlcmlhbCgibWF0ICIgKyB0aWxlSWQsIHNjZW5lKTsKICAgICAgICBtYXQud2lyZWZyYW1lID0gZmFsc2U7CiAgICAgICAgbWF0LmJhY2tGYWNlQ3VsbGluZyA9IHRydWU7CiAgICAgICAgbWF0LmFtYmllbnRDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMygxLCAxLCAxKTsKICAgICAgICBtYXQuc3BlY3VsYXJDb2xvciA9IG5ldyBCQUJZTE9OLkNvbG9yMyguNSwgLjUsIC41KTsKICAgICAgICB2YXIgcXVhZGtleSA9ICIiOwogICAgICAgIHZhciB0aWxlWiA9IHRpbGVJZC56b29tOwoKICAgICAgICB3aGlsZSAodGlsZVogPiAwKQogICAgICAgIHsKICAgICAgICAgICAgdGlsZVotLTsKICAgICAgICAgICAgcXVhZGtleSArPSAiMDEyMyJbKCh0aWxlSWQueSA+PiB0aWxlWikgJiAxKSAqIDIgKyAoKHRpbGVJZC54ID4+IHRpbGVaKSAmIDEpXTsKICAgICAgICB9CgogICAgICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgICAgICAgICB2YXIgdGV4dHVyZSA9IG5ldyBCQUJZTE9OLlRleHR1cmUoCiAgICAgICAgICAgICAgICAiaHR0cHM6Ly90LnNzbC5hay5keW5hbWljLnRpbGVzLnZpcnR1YWxlYXJ0aC5uZXQvY29tcC9jaC8iICsgcXVhZGtleSArICI/aXQ9QSZuPXoiLCAKICAgICAgICAgICAgICAgIHNjZW5lLAogICAgICAgICAgICAgICAgZmFsc2UsCiAgICAgICAgICAgICAgICB0cnVlLAogICAgICAgICAgICAgICAgQkFCWUxPTi5UZXh0dXJlLkxJTkVBUl9TQU1QTElOR01PREUsCiAgICAgICAgICAgICAgICBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbWF0LmRpZmZ1c2VUZXh0dXJlID0gdGV4dHVyZTsKICAgICAgICAgICAgICAgICAgICBtYXQuZGlmZnVzZVRleHR1cmUud3JhcFUgPSAwOwogICAgICAgICAgICAgICAgICAgIG1hdC5kaWZmdXNlVGV4dHVyZS53cmFwViA9IDA7CiAgICAgICAgICAgICAgICAgICAgbWF0LmZyZWV6ZSgpOwogICAgICAgICAgICAgICAgICAgIG1lc2gubWF0ZXJpYWwgPSBtYXQ7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkTWVzaChtZXNoKTsKICAgICAgICAgICAgICAgICAgICBtZXNoLmZyZWV6ZVdvcmxkTWF0cml4KCk7CiAgICAgICAgICAgICAgICAgICAgbWVzaC5mcmVlemVOb3JtYWxzKCk7CiAgICAgICAgICAgICAgICAgICAgbWVzaC5kb05vdFN5bmNCb3VuZGluZ0luZm8gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIG1lc2guY3VsbGluZ1N0cmF0ZWd5ID0gQkFCWUxPTi5BYnN0cmFjdE1lc2guQ1VMTElOR1NUUkFURUdZX0JPVU5ESU5HU1BIRVJFX09OTFk7CiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtZXNoKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICB9KTsKCiAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICB9OwoKICAgIHZhciBsb2FkZWRUaWxlcyA9IFtdOwoKICAgIHZhciBnZXRNZXNoZXMgPSBhc3luYyBmdW5jdGlvbih0aWxlSWQpIHsKICAgICAgICB2YXIgYW5nbGUgPSBnZXRUaWxlQW5nbGUodGlsZUlkLnksIHRpbGVJZC56b29tKTsKCiAgICAgICAgaWYgKHRpbGVJZC56b29tID4gMCAmJiBhbmdsZSA8IE1hdGguUEkgLyA4KSB7CiAgICAgICAgICAgIHZhciBtZXNoID0gYXdhaXQgZ2V0TWVzaEZvclRpbGUodGlsZUlkKTsKICAgICAgICAgICAgbWVzaC5pc1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICBtZXNoLnRpbGVBbmdsZSA9IGFuZ2xlOwogICAgICAgICAgICBsb2FkZWRUaWxlcy5wdXNoKG1lc2gpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGlsZUlkLmNoaWxkcmVuOwogICAgICAgICAgICBnZXRNZXNoZXMoY2hpbGRyZW5bMF0pOwogICAgICAgICAgICBnZXRNZXNoZXMoY2hpbGRyZW5bMV0pOwogICAgICAgICAgICBnZXRNZXNoZXMoY2hpbGRyZW5bMl0pOwogICAgICAgICAgICBnZXRNZXNoZXMoY2hpbGRyZW5bM10pOwogICAgICAgIH0KICAgIH07CgogICAgZ2V0TWVzaGVzKG5ldyBUaWxlSWQoMCwgMCwgMCkpOwoKICAgIHZhciBvbGRSYWRpdXMgPSAtMTsKICAgIAogICAgc2NlbmUucmVnaXN0ZXJBZnRlclJlbmRlcigoKSA9PiAKICAgIHsKICAgICAgICBpZiAoY2FtZXJhLnJhZGl1cyAhPSBvbGRSYWRpdXMpIHsKICAgICAgICAgICAgb2xkUmFkaXVzID0gY2FtZXJhLnJhZGl1czsKICAgICAgICAgICAgY2FtZXJhLmFuZ3VsYXJTZW5zaWJpbGl0eVggPSBjYW1lcmEuYW5ndWxhclNlbnNpYmlsaXR5WSA9IDIwMDAgLyBNYXRoLmxvZzIoY2FtZXJhLnJhZGl1cyk7CiAgICAgICAgfQoKICAgICAgICBpZiAobG9hZGVkVGlsZXMubGVuZ3RoID4gMCkgewogICAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsb2FkZWRUaWxlcy5sZW5ndGgpOwogICAgICAgICAgICB2YXIgbWVzaCA9IGxvYWRlZFRpbGVzW2luZGV4XTsKICAgICAgICAgICAgbG9hZGVkVGlsZXNbaW5kZXhdID0gbG9hZGVkVGlsZXMucG9wKCk7CiAgICAgICAgICAgIHZhciB0aWxlSWQgPSBtZXNoLnRpbGVJZDsKCiAgICAgICAgICAgIGlmICh0aWxlSWQuem9vbSA8IDUpIHsKICAgICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRpbGVJZC5jaGlsZHJlbjsKICAgICAgICAgICAgICAgIHZhciBjaGlsZDAgPSBnZXRNZXNoRm9yVGlsZShjaGlsZHJlblswXSk7CiAgICAgICAgICAgICAgICB2YXIgY2hpbGQxID0gZ2V0TWVzaEZvclRpbGUoY2hpbGRyZW5bMV0pOwogICAgICAgICAgICAgICAgdmFyIGNoaWxkMiA9IGdldE1lc2hGb3JUaWxlKGNoaWxkcmVuWzJdKTsKICAgICAgICAgICAgICAgIHZhciBjaGlsZDMgPSBnZXRNZXNoRm9yVGlsZShjaGlsZHJlblszXSk7CgogICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW2NoaWxkMCwgY2hpbGQxLCBjaGlsZDIsIGNoaWxkM10pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgICAgIHNjZW5lLnJlbW92ZU1lc2gobWVzaCk7CiAgICAgICAgICAgICAgICAgICAgbWVzaC5kaXNwb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2gwID0gYXdhaXQgY2hpbGQwOwogICAgICAgICAgICAgICAgICAgIHZhciBtZXNoMSA9IGF3YWl0IGNoaWxkMTsKICAgICAgICAgICAgICAgICAgICB2YXIgbWVzaDIgPSBhd2FpdCBjaGlsZDI7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc2gzID0gYXdhaXQgY2hpbGQzOwogICAgICAgICAgICAgICAgICAgIG1lc2gwLmlzVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgbWVzaDEuaXNWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICBtZXNoMi5pc1Zpc2libGUgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIG1lc2gzLmlzVmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkTWVzaChtZXNoMCk7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkTWVzaChtZXNoMSk7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkTWVzaChtZXNoMik7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuYWRkTWVzaChtZXNoMyk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkVGlsZXMucHVzaChtZXNoMCk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkVGlsZXMucHVzaChtZXNoMSk7CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkVGlsZXMucHVzaChtZXNoMik7CiAgICAgICAgICAgICAgICAgICAgbG9hZGVkVGlsZXMucHVzaChtZXNoMyk7CiAgICAgICAgICAgICAgICAgICAgc2NlbmUuY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSk7CgoJcmV0dXJuIHNjZW5lOwp9OwoKCmNvbnN0IHNjZW5lID0gY3JlYXRlU2NlbmUoKTsgLy9DYWxsIHRoZSBjcmVhdGVTY2VuZSBmdW5jdGlvbgovLyBSZWdpc3RlciBhIHJlbmRlciBsb29wIHRvIHJlcGVhdGVkbHkgcmVuZGVyIHRoZSBzY2VuZQplbmdpbmUucnVuUmVuZGVyTG9vcCgoKSA9PiB7CiAgICBzY2VuZS5yZW5kZXIoKTsKfSk7Ci8vIFdhdGNoIGZvciBicm93c2VyL2NhbnZhcyByZXNpemUgZXZlbnRzCmNvbnN0IG9uUmVzaXplID0gKCkgPT4gewogICAgZW5naW5lLnJlc2l6ZSgpOwp9CndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBvblJlc2l6ZSk7CgovLyBMaXN0ZW4gdG8gbWVkaWFwaXBlIGhhbmQgaW5wdXRzCmRpc3Bvc2Vycy5wdXNoKAogICAgbWV0YWZyYW1lLm9uSW5wdXQoImFuZ2xlIiwgYW5nbGUgPT4gewogICAgICBpZiAoIWFuZ2xlKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHNwaGVyaWNhbCA9IEJBQllMT04uU3BoZXJpY2FsLkZyb21WZWN0b3IzKG5ldyBCQUJZTE9OLlZlY3RvcjMoYW5nbGVbMF0sIGFuZ2xlWzFdLCBhbmdsZVsyXSkpCiAgICAgIAogICAgICBpZiAoY2FtZXJhICYmIHNwaGVyaWNhbCkgewogICAgICAgIGNhbWVyYS5hbHBoYSA9IHNwaGVyaWNhbC5waGk7CiAgICAgICAgY2FtZXJhLmJldGEgPSBzcGhlcmljYWwudGhldGE7CiAgICAgIH0KICAgIH0pCiAgKTsKLy8gTGlzdGVuIHRvIHBob25lIGlucHV0CmRpc3Bvc2Vycy5wdXNoKAogICAgbWV0YWZyYW1lLm9uSW5wdXQoImFvIiwgKG9yaWVudGF0aW9uKSA9PiB7CiAgICAgIGlmICghb3JpZW50YXRpb24pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKGNhbWVyYSkgewogICAgICAgIGNhbWVyYS5hbHBoYSA9IC1vcmllbnRhdGlvblswXTsKICAgICAgICBjYW1lcmEuYmV0YSA9IG9yaWVudGF0aW9uWzJdOwogICAgICB9CiAgICB9KQogICk7CgovLyBSZXR1cm4gYSBjbGVhbnVwIGZ1bmN0aW9uCnJldHVybiAoKSA9PiB7CiAgICB3aGlsZSAoZGlzcG9zZXJzLmxlbmd0aCA+IDApIHsKICAgICAgICBkaXNwb3NlcnMucG9wKCkoKTsKICAgIH0KICAgIGVuZ2luZS5zdG9wUmVuZGVyTG9vcCgpOwogICAgZW5naW5lLmRpc3Bvc2UoKTsKICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLCBvblJlc2l6ZSk7Cn07",
        "inputs": [
          {
            "source": "*",
            "target": "*",
            "metaframe": "device-io"
          }
        ]
      }
    },
    "plugins": [
      "https://mermaid.mtfm.io/#?button=hidden&menuhidden=true&tab=1",
      "https://editor.mtfm.io/#?options=eyJtb2RlIjoianNvbiIsInNhdmVsb2FkaW5oYXNoIjpmYWxzZSwidGhlbWUiOiJ2cy1kYXJrIn0="
    ]
  }